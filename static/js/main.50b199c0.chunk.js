(this.webpackJsonpjsx=this.webpackJsonpjsx||[]).push([[0],{12:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(9),r=n.n(s),c=n(5),o=n(6),l=n(10),u=n(8),d=n(7),h=(n(12),n(1)),m=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={term:""},e.search=function(t){t.preventDefault(),e.props.onSearchSubmit(e.state.term)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsx)("form",{className:"form",onSubmit:this.search,children:Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("input",{type:"text",value:this.state.term,placeholder:"Search Images",onChange:function(t){return e.setState({term:t.target.value})}}),this.props.showButton?Object(h.jsx)("button",{className:"btn",type:"submit",children:"POST"}):null]})})}}]),n}(i.a.Component),j=n(17),p=n.n(j),b=n(27),f="UNLIKE",O="LIKE",g="ADD_POST",v="DELETE_POST",y="FETCH_IMAGES",x="SORT",k=n(28),S=n.n(k).a.create({baseURL:"https://raw.githubusercontent.com"}),w=n(4),C=n(14),N=n.n(C),I=Object(w.b)(null,{deletePost:function(e,t){return{type:v,payload:{listid:e,id:t}}}})((function(e){var t;return Object(h.jsx)("ol",{children:(t=e.comments,t.comments.map((function(t,n){return Object(h.jsxs)("li",{children:[t," ",Object(h.jsx)("span",{onClick:function(){return t=n,void e.deletePost(t,e.comments.id);var t},className:"close",children:"X"})]},N()())})))})})),L=(n(58),Object(w.b)(null)((function(e){var t=e.show,n=e.image,a=e.handleClose,i=t?"modal display-block":"modal display-none";return r.a.createPortal(Object(h.jsx)("div",{onClick:function(){return a()},className:i,children:Object(h.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(h.jsx)("section",{className:"modal-main",children:Object(h.jsx)("img",{src:n.url,alt:n.Flowers},n.id)})})}),document.querySelector("#modal"))}))),M=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).showModal=function(){a.setState({show:!0})},a.hideModal=function(){a.setState({show:!1})},a.state={show:!1},a.onSearchSubmit=a.onSearchSubmit.bind(Object(l.a)(a)),a}return Object(o.a)(n,[{key:"onSearchSubmit",value:function(e){this.props.addPost(e,this.props.image.id)}},{key:"showButton",value:function(){var e=this;return this.props.image.likedByMe?Object(h.jsx)("a",{onClick:function(t){t.preventDefault(),e.props.unlike(e.props.image.id)},style:{marginLeft:"5px"},href:"/#",children:"Unlike"}):Object(h.jsx)("a",{onClick:function(t){t.preventDefault(),e.props.like(e.props.image.id)},style:{marginLeft:"5px"},href:"/#",children:"Like"})}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("div",{onClick:function(t){t.preventDefault(),e.showModal()},className:"image-box",children:Object(h.jsx)("img",{src:this.props.image.url,alt:this.props.image.Flowers},this.props.image.id)}),Object(h.jsxs)("div",{className:"card-content",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{children:[this.props.image.likes," ",this.showButton()]}),Object(h.jsx)("span",{style:{float:"right"},children:this.props.image.category})]}),Object(h.jsx)(m,{showButton:!0,onSearchSubmit:this.onSearchSubmit}),Object(h.jsx)(I,{comments:this.props.image}),this.state.show?Object(h.jsx)(L,{handleClose:this.hideModal,show:this.state.show,image:this.props.image}):null]})]})}}]),n}(i.a.Component),D=Object(w.b)((function(e){return{show:e.images.showPicture}}),{addPost:function(e,t){return{type:g,payload:{value:e,id:t}}},like:function(e){return{type:O,payload:e}},unlike:function(e){return{type:f,payload:e}}})(M),P=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).generateImage=function(e){return e.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(D,{image:e})},N()())}))},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:this.props.image&&this.props.image.length?Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsxs)("h5",{children:["Found: ",this.props.image.length," images"]}),Object(h.jsx)("div",{className:"image-list",children:Object(h.jsx)("ul",{children:this.generateImage(this.props.image)})})]}):Object(h.jsx)("div",{children:"No Images Found"})})}}]),n}(i.a.Component),B=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onSearchSubmit=a.onSearchSubmit.bind(Object(l.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchImages("")}},{key:"onSearchSubmit",value:function(e){this.props.fetchImages(e)}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"ui container",style:{marginTop:"10px"},children:[Object(h.jsxs)("div",{className:"segment",children:[Object(h.jsxs)("div",{className:"left-segment",children:[Object(h.jsx)("a",{onClick:function(t){t.preventDefault(),e.props.sort("likes")},style:{marginLeft:"5px"},href:"/#",children:"Most Liked"}),"|",Object(h.jsx)("a",{onClick:function(t){t.preventDefault(),e.props.sort("comments")},style:{marginLeft:"5px"},href:"/#",children:"Most Commented"})]}),Object(h.jsx)("div",{className:"right-segment",children:Object(h.jsx)(m,{showButton:!1,onSearchSubmit:this.onSearchSubmit})})]}),Object(h.jsx)(P,{image:this.props.image})]})}}]),n}(i.a.Component),T=Object(w.b)((function(e){return{image:e.images.images}}),{fetchImages:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e||(e=""),t.next=3,S.get("/Lokenath/MyRepo/master/Test/package.json");case 3:a=t.sent,n({type:y,payload:a.data.pics.filter((function(t){return t.category.toLowerCase().includes(e)}))});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sort:function(e){return{type:x,payload:e}}})(B),E=n(13),A=n(11),F=n(3),R={images:[]},U=Object(E.b)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(F.a)(Object(F.a)({},e),{},{images:Object(A.a)(t.payload)});case g:var n=e.images.findIndex((function(e){return e.id===t.payload.id})),a=Object(A.a)(e.images);return a[n].comments.unshift(t.payload.value),Object(F.a)(Object(F.a)({},e),{},{images:a});case v:var i=e.images.findIndex((function(e){return e.id===t.payload.id})),s=Object(A.a)(e.images);return s[i].comments.splice(t.payload.listid,1),Object(F.a)(Object(F.a)({},e),{},{images:s});case O:var r=e.images.findIndex((function(e){return e.id===t.payload})),c=Object(A.a)(e.images);return c[r].likes+=1,c[r].likedByMe=!0,Object(F.a)(Object(F.a)({},e),{},{images:c});case f:var o=e.images.findIndex((function(e){return e.id===t.payload})),l=Object(A.a)(e.images);return l[o].likes-=1,l[o].likedByMe=!1,Object(F.a)(Object(F.a)({},e),{},{images:l});case x:var u=e.images.slice().sort((function(e,n){return"number"===typeof n[t.payload]?n[t.payload]-e[t.payload]:Array.isArray(e[t.payload])?n[t.payload].length-e[t.payload].length:n[t.payload]-e[t.payload]}));return Object(F.a)(Object(F.a)({},e),{},{images:u});default:return e}}}),_=n(29);r.a.render(Object(h.jsx)(w.a,{store:Object(E.c)(U,Object(E.a)(_.a)),children:Object(h.jsx)(T,{})}),document.querySelector("#root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.50b199c0.chunk.js.map